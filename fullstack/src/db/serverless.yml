# æ¬¢è¿ä½¿ç”¨ âš¡ï¸serverlessâš¡ï¸ ç»„ä»¶
#
# serverlessç»„ä»¶æ˜¯åŸºäºå…·ä½“ä½¿ç”¨åœºæ™¯(Express, é™æ€ç½‘ç«™ç­‰)æä¾›çš„å®šåˆ¶äº‘èµ„æºç¼–æ’å’Œç»„ç»‡çš„è§£å†³æ–¹æ¡ˆã€‚
# è¿™æ˜¯serverlessçš„ä¸»è¦é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«äº†ä¸€äº›ä½¿ç”¨ç¤ºä¾‹ä»¥åŠæ³¨é‡Šè¯´æ˜ã€‚
# æ‚¨åªéœ€å‡ è¡Œé…ç½®æè¿°ï¼Œå³å¯è¿›è¡Œäº‘å‡½æ•°ã€API ç½‘å…³ã€COSã€DB ç­‰
# Serverless èµ„æºè¿›è¡Œå¿«é€Ÿåˆ›å»ºã€éƒ¨ç½²å’Œä¿®æ”¹ã€‚
#
# æœ‰å…³å®Œæ•´çš„é…ç½®é€‰é¡¹ï¼Œè¯·æ£€æŸ¥æ–‡æ¡£ï¼š
# https://cloud.tencent.com/document/product/1154/51080
#
# ğŸ‘©â€ğŸ’» Happy Coding ğŸ‘¨â€ğŸ’»

# ##åº”ç”¨ä¿¡æ¯##
# app,stage ä¼šè¢«æ ¹ç›®å½•é…ç½®æ–‡ä»¶è¦†å†™
app: fullstack-serverless-db # appåç§°(appå”¯ä¸€è¯†åˆ«æ ‡è¯†)ã€‚åŒè´¦å·ä¸‹éœ€å”¯ä¸€
component: postgresql # [å¿…é€‰]è¦ä½¿ç”¨ç»„ä»¶ï¼Œæ›´å¤šç»„ä»¶è¯·æŸ¥çœ‹ https://github.com/serverless-components
name: fullstack-db # [å¿…é€‰]ç»„ä»¶å®ä¾‹åç§°
# stage: dev # appç¯å¢ƒåç§°ï¼Œé»˜è®¤ä¸ºdev

# ##postgresql ç»„ä»¶é…ç½®##
# æ›´å¤šå†…å®¹è¯·æŸ¥çœ‹: https://github.com/serverless-components/tencent-postgresql/blob/master/docs/configure.md
inputs:
  region: ${env:REGION}  # éƒ¨ç½²ç›®æ ‡åœ°åŒºã€‚ æ›´å¤šå‚è€ƒ https://cloud.tencent.com/document/api/583/17238#.E5.9C.B0.E5.9F.9F.E5.88.97.E8.A1.A8
  zone: ${env:ZONE} # æ•°æ®åº“æ‰€åœ¨åœ°åŒºçš„åŒºåŸŸ, ç”±ç¯å¢ƒå˜é‡é…ç½®ã€‚[ap-guangzhou-2,ap-shanghai-2,...]
  dBInstanceName: ${name} # æ•°æ®åº“å®ä¾‹åç§°ã€‚åŒè´¦å·ä¸‹éœ€å”¯ä¸€ï¼Œä½¿ç”¨æ­¤é…ç½®æ–‡ä»¶ä¸­çš„nameï¼ˆç»„ä»¶å®ä¾‹åç§°ï¼‰
  vpcConfig: # ç§æœ‰ç½‘ç»œé…ç½®
    vpcId: ${output:${stage}:${app}:fullstack-vpc.vpcId} # ç§æœ‰ç½‘ç»œId
    subnetId: ${output:${stage}:${app}:fullstack-vpc.subnetId} # å­ç½‘Id
  extranetAccess: false # æ˜¯å¦å¼€å¯å¤–ç½‘è®¿é—®
